{"version":3,"sources":["componentes/BookForm/book-form.module.css","componentes/CartButtons/cart-buttons.module.css","usereducer/store.ts","componentes/StoreContextProvider/StoreContextProvider.tsx","shared/initialState.ts","componentes/SearchBar/SearchBar.tsx","shared/debounce.js","componentes/Navigation/Navigation.tsx","componentes/Layout/Layout.tsx","shared/BookApi.ts","componentes/BookForm/BookForm.tsx","hooks/useInitialState.ts","componentes/BookCreate/BookCreate.tsx","componentes/LoadingSpinner/loading-spinner.tsx","hooks/useBookApi.ts","componentes/CartButtons/CartButtons.tsx","componentes/BookDetails/BookDetails.tsx","componentes/BookEdit/BookEdit.tsx","componentes/BookListItem/BookListItem.tsx","componentes/BookList/BookList.tsx","componentes/Cart/Cart.tsx","componentes/Home/Home.tsx","componentes/Routing/Routing.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["module","exports","initialStore","cart","reducer","store","action","sort","a","b","Number","isbn","index","findIndex","book","type","filter","i","StoreContext","createContext","displayName","useStore","useContext","StoreContextProvider","props","useReducer","value","dispatch","Provider","children","initialState","title","authors","published","subtitle","rating","thumbnails","url","description","SearchBar","classAttr","useState","results","setResults","history","useHistory","onchange","trim","func","wait","immediate","timeout","debounce","axios","get","then","response","console","log","data","className","onChange","e","target","map","onClick","push","Navigation","to","exact","length","Layout","bookApi","method","path","callback","myInterceptor","basePath","interceptors","use","Date","toLocaleDateString","error","Promise","reject","eject","catch","BookForm","isEdit","setIsbn","setTitle","setAuthors","setPublished","setsubtitle","setRating","setThumbnails","setDescription","useEffect","useInitialState","fieldNames","thumbnail","getState","setNewState","stateKey","newValue","key","copyThumbnails","copyAuthors","addField","fieldName","removeField","pop","css","bookForm","onSubmit","preventDefault","handleSubmit","placeholder","required","pattern","readOnly","author","maxLength","minLength","BookCreate","defaultState","Math","random","LoadingSpinner","useBookApi","books","setBooks","CartButtons","btnContainer","aBook","onAddToCart","onRemoveFromCart","BookDetails","useParams","goToBookList","ratingArray","getRatings","src","alt","confirm","BookEdit","dateArr","split","day","shift","month","join","BookListItem","BookList","getBooks","Cart","forEach","bookExists","el","getEveryBookOnce","Home","Routing","App","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.7d70e6a4.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"bookForm\":\"book-form_bookForm__3Y8b8\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"btnContainer\":\"cart-buttons_btnContainer__2w4Vh\"};","/* eslint-disable indent */\r\nimport Book from \"../types/Books\";\r\n\r\nexport interface Store {\r\n  cart: Book[]\r\n}\r\n\r\nexport const initialStore: Store = {\r\n  cart: []\r\n}\r\n\r\ninterface AddToCart {\r\n  type: \"ADD_TO_CART\";\r\n  book: Book;\r\n}\r\n\r\ninterface RemoveFromCart {\r\n  type: \"REMOVE_FROM_CART\";\r\n  book: Book;\r\n}\r\n\r\nexport type Actions = AddToCart | RemoveFromCart;\r\n\r\n\r\nexport function reducer(store: Store, action: Actions): Store {\r\n  //Bücher nach der ISBN-Nummer sortieren\r\n  // store.cart.sort((a, b) => a.title.localeCompare(b.title));\r\n  store.cart.sort((a, b) => Number(a.isbn) - Number(b.isbn));\r\n  const index = store.cart.findIndex(book => book.isbn === action.book.isbn);\r\n\r\n  switch (action.type) {\r\n    case \"ADD_TO_CART\":\r\n      return {\r\n        ...store,\r\n        cart: [...store.cart, action.book]\r\n      }\r\n    case \"REMOVE_FROM_CART\":\r\n      return {\r\n        ...store,\r\n        cart: store.cart.filter((book, i) => i !== index)\r\n      }\r\n  }\r\n}","import React, { createContext, ReactElement, useContext, useReducer } from \"react\";\r\nimport { Actions, initialStore, reducer, Store } from \"../../usereducer/store\";\r\n\r\n\r\ninterface StoreProps {\r\n  store: Store;\r\n  dispatch: React.Dispatch<Actions>;\r\n}\r\n\r\ninterface Props {\r\n  children: ReactElement;\r\n}\r\n\r\nconst StoreContext = createContext({} as StoreProps);\r\nStoreContext.displayName = \"Store\";\r\n\r\nexport const useStore = (): StoreProps => useContext(StoreContext);\r\n\r\nexport default function StoreContextProvider(props: Props): ReactElement {\r\n  const [store, dispatch] = useReducer(reducer, initialStore);\r\n  const value = { store, dispatch };\r\n  return (\r\n    <>\r\n      <StoreContext.Provider value={value}>\r\n        {props.children}\r\n      </StoreContext.Provider>\r\n    </>\r\n  )\r\n}","import Book from \"../types/Books\";\r\n\r\nconst initialState: Book = {\r\n  isbn: \"\",\r\n  title: \"\",\r\n  authors: [\"\"],\r\n  published: \"\",\r\n  subtitle: \"\",\r\n  rating: 0,\r\n  thumbnails: [{\r\n    url: \"\",\r\n    title: \"\"\r\n  }],\r\n  description: \"\",\r\n};\r\n\r\nexport default initialState;","import axios from \"axios\";\r\nimport React, { ReactElement, useState } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport debounce from \"../../shared/debounce\";\r\nimport initialState from \"../../shared/initialState\";\r\n\r\ninterface Props {\r\n  classAttr: string\r\n}\r\n\r\nexport default function SearchBar({ classAttr }: Props): ReactElement {\r\n  const [results, setResults] = useState([initialState]);\r\n  const history = useHistory();\r\n\r\n  function onchange(value: string): void {\r\n    value = value.trim();\r\n    function getSearchResponse(): void {\r\n      axios.get(`https://api3.angular-buch.com/books/search/${value}`)\r\n        .then(response => {\r\n          console.log(response.data);\r\n          setResults(response.data);\r\n        });\r\n    }\r\n    value ? debounce(getSearchResponse(), 500) : setResults([initialState]);\r\n  }\r\n\r\n  return (\r\n    <div className={`ui search ${classAttr}`}>\r\n      <div className=\"ui icon input\">\r\n        <input type=\"text\"\r\n          className=\"prompt\"\r\n          onChange={(e) => { onchange(e.target.value) }} />\r\n        <i className=\"search icon\" />\r\n      </div>\r\n      {results[0] && results[0].isbn && <div className=\"results transition visible\">\r\n        {results.map((book, index) => {\r\n          return (\r\n            <div key={index} className=\"result\"\r\n              onClick={() => {\r\n                setResults([initialState]);\r\n                history.push(`/books/${book.isbn}`);\r\n              }} >\r\n              { book.title}\r\n              < p className=\"description\" >\r\n                {book.subtitle}\r\n              </p>\r\n            </div>\r\n          )\r\n        })}\r\n      </div >}\r\n    </div >\r\n  );\r\n}","// eslint-disable-next-line @typescript-eslint/explicit-module-boundary-types\r\nexport default function debounce(func, wait, immediate) {\r\n  let timeout;\r\n\r\n  return function executedFunction() {\r\n    // eslint-disable-next-line @typescript-eslint/no-this-alias\r\n    let context = this;\r\n    let args = arguments;\r\n\r\n    let later = function () {\r\n      timeout = null;\r\n      if (!immediate) func.apply(context, args);\r\n    };\r\n\r\n    let callNow = immediate && !timeout;\r\n\r\n    clearTimeout(timeout);\r\n\r\n    timeout = setTimeout(later, wait);\r\n\r\n    if (callNow) func.apply(context, args);\r\n  };\r\n}","import React, { ReactElement } from \"react\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport { useStore } from \"../StoreContextProvider/StoreContextProvider\";\r\nimport SearchBar from \"../SearchBar/SearchBar\";\r\n\r\nexport default function Navigation(): ReactElement {\r\n  const { store: { cart } } = useStore();\r\n  return (\r\n    <nav className=\"ui tabular menu\">\r\n      <NavLink to=\"/home\" className=\"item\">Home</NavLink>\r\n      <NavLink exact to=\"/books\" className=\"item\">Books</NavLink>\r\n      <NavLink to=\"/books/create\" className=\"item\">Add Book</NavLink>\r\n      <NavLink to=\"/cart\" className=\"ui item label\">\r\n        <i className=\"shopping cart icon\" />\r\n        {cart.length}\r\n      </NavLink>\r\n      <SearchBar classAttr=\"item right\" />\r\n    </nav>\r\n  );\r\n}\r\n\r\n","import React, { ReactElement } from \"react\";\r\nimport Navigation from \"../Navigation/Navigation\";\r\n\r\ninterface Props {\r\n  children: ReactElement;\r\n}\r\n\r\nexport default function Layout(props: Props): ReactElement {\r\n\r\n  return (\r\n    <>\r\n      <Navigation />\r\n\r\n      <div className=\"ui container\">\r\n        {props.children}\r\n      </div>\r\n    </>\r\n  );\r\n}","import axios, { AxiosResponse, Method } from \"axios\";\r\n\r\nexport default function bookApi<T>(method: Method, path: string, callback: (data: T) => void, data: any = \"\"): void {\r\n  const basePath = \"https://api3.angular-buch.com\";\r\n  let myInterceptor: number;\r\n\r\n  // Add a response interceptor, for Get to get one Book\r\n  // eslint-disable-next-line prefer-const\r\n  myInterceptor = axios.interceptors.response.use(function (response) {\r\n    if (response.data.published)\r\n      // Published formatieren\r\n      response.data.published = new Date(response.data.published).toLocaleDateString();\r\n    return response;\r\n  }, function (error) {\r\n    error = \"Can't get Books\";\r\n    return Promise.reject(error);\r\n  });\r\n\r\n  axios({\r\n    url: `${basePath}${path}`,\r\n    method: method,\r\n    data: data\r\n  }).then(\r\n    (response: AxiosResponse<T>) => {\r\n      callback(response.data);\r\n    }\r\n  ).then(\r\n    // Interceptor nach dem Aufruf wieder rauswerfen\r\n    () => { axios.interceptors.response.eject(myInterceptor); }\r\n  ).catch(\r\n    error => console.log(error)\r\n  );\r\n}","/* eslint-disable indent */\r\nimport React, { ReactElement, FormEvent } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport useInitialState from \"../../hooks/useInitialState\";\r\nimport bookApi from \"../../shared/BookApi\";\r\nimport Book, { Thumbnail } from \"../../types/Books\";\r\nimport css from \"./book-form.module.css\";\r\n\r\ninterface Props {\r\n  initialState: Book;\r\n  isEdit: boolean;\r\n}\r\n\r\nexport default function BookForm({ initialState, isEdit }: Props): ReactElement {\r\n  const history = useHistory();\r\n  const [\r\n    isbn, setIsbn,\r\n    title, setTitle,\r\n    authors, setAuthors,\r\n    published, setPublished,\r\n    subtitle, setsubtitle,\r\n    rating, setRating,\r\n    thumbnails, setThumbnails,\r\n    description, setDescription\r\n  ] = useInitialState(initialState);\r\n\r\n  const fieldNames = {\r\n    isbn: \"Isbn\",\r\n    title: \"Titel\",\r\n    author: \"Author\",\r\n    published: \"Published\",\r\n    subtitle: \"subtitle\",\r\n    thumbnails: {\r\n      thumbnail: \"Thumbnail\",\r\n      url: \"url\",\r\n      title: \"title\"\r\n    },\r\n    url: \"Url\",\r\n    description: \"Description\"\r\n  };\r\n\r\n  const getState = () => {\r\n    return {\r\n      isbn, title, authors, published, subtitle, rating, thumbnails, description\r\n    }\r\n  }\r\n\r\n  const setNewState = (stateKey: string, newValue: string, index: number, key: string): void => {\r\n    const copyAuthors: string[] = [...authors];\r\n    let copyThumbnails: Thumbnail[];\r\n\r\n    switch (stateKey) {\r\n      case fieldNames.isbn:\r\n        setIsbn(newValue);\r\n        break;\r\n      case fieldNames.title:\r\n        setTitle(newValue);\r\n        break;\r\n      case fieldNames.author:\r\n        copyAuthors[index] = newValue;\r\n        setAuthors(copyAuthors);\r\n        break;\r\n      case fieldNames.published:\r\n        setPublished(newValue);\r\n        break;\r\n      case fieldNames.subtitle:\r\n        setsubtitle(newValue);\r\n        break;\r\n      case fieldNames.thumbnails.thumbnail:\r\n        if (thumbnails) {\r\n          copyThumbnails = [...thumbnails];\r\n          copyThumbnails[index] = { ...copyThumbnails[index], [key]: newValue };\r\n          setThumbnails(copyThumbnails);\r\n        }\r\n        break;\r\n      case fieldNames.description:\r\n        setDescription(newValue);\r\n        break;\r\n    }\r\n  };\r\n\r\n  const addField = (fieldName: string): void => {\r\n    const copyAuthors: string[] = [...authors];\r\n    let copyThumbnails: Thumbnail[];\r\n\r\n    switch (fieldName) {\r\n      case fieldNames.author:\r\n        copyAuthors.push(\"\");\r\n        setAuthors(copyAuthors);\r\n        break;\r\n      case fieldNames.thumbnails.thumbnail:\r\n        if (thumbnails) {\r\n          copyThumbnails = [...thumbnails];\r\n          copyThumbnails.push({ url: \"\", title: \"\" });\r\n          setThumbnails(copyThumbnails);\r\n        }\r\n        break;\r\n    }\r\n  };\r\n\r\n  const removeField = (fieldName: string): void => {\r\n    const copyAuthors: string[] = [...authors];\r\n    let copyThumbnails: Thumbnail[];\r\n    switch (fieldName) {\r\n      case fieldNames.author:\r\n        if (copyAuthors.length > 1) {\r\n          copyAuthors.pop();\r\n          setAuthors(copyAuthors);\r\n        }\r\n        break;\r\n      case fieldNames.thumbnails.thumbnail:\r\n        if (thumbnails) {\r\n          copyThumbnails = [...thumbnails];\r\n          if (copyThumbnails.length > 1) {\r\n            copyThumbnails.pop();\r\n            setThumbnails(copyThumbnails);\r\n          }\r\n        }\r\n        break;\r\n    }\r\n  };\r\n\r\n  const handleSubmit = (e: FormEvent<HTMLFormElement>): void => {\r\n    e.preventDefault();\r\n    if (isEdit) {\r\n      bookApi<string>(\"put\", `/book/${isbn}`, () => {\r\n        history.push(`/books/${isbn}`)\r\n      }, getState());\r\n    } else {\r\n      bookApi<string>(\"post\", \"/book\", () => {\r\n        history.push(\"/books\")\r\n      }, getState());\r\n    }\r\n  };\r\n\r\n  return (\r\n    <form className={`ui form ${css.bookForm}`} onSubmit={(e) => { handleSubmit(e) }}>\r\n      <label>Buchtitel </label>\r\n      <input placeholder={fieldNames.title}\r\n        onChange={(e) => { setNewState(fieldNames.title, e.target.value, 0, \"\") }}\r\n        value={title}\r\n        required\r\n      />\r\n\r\n      <label>Untertitel </label>\r\n      <input placeholder={fieldNames.subtitle}\r\n        onChange={(e) => { setNewState(fieldNames.subtitle, e.target.value, 0, \"\") }}\r\n        value={subtitle}\r\n      />\r\n\r\n      <label>Isbn</label>\r\n      <input placeholder={fieldNames.isbn}\r\n        onChange={(e) => { setNewState(fieldNames.isbn, e.target.value, 0, \"\") }}\r\n        value={isbn}\r\n        pattern=\"\\d{9,}\"\r\n        title=\"mindestens 9-stellige Zahl\"\r\n        required\r\n        readOnly={isEdit}\r\n      />\r\n\r\n      <label>Erscheinungsdatum </label>\r\n      <input placeholder={fieldNames.published} type=\"date\"\r\n        onChange={(e) => { setNewState(fieldNames.published, e.target.value, 0, \"\") }}\r\n        value={published}\r\n        required\r\n      />\r\n\r\n      <label>Authoren </label>\r\n      <button className=\"ui mini button\" type=\"button\"\r\n        onClick={() => { addField(fieldNames.author) }}\r\n      >+</button>\r\n      <button className=\"ui mini button\" type=\"button\"\r\n        onClick={() => { removeField(fieldNames.author) }}\r\n      >-</button>\r\n      <div className={`fields`}>\r\n        {authors.map((author: string, index: number) => {\r\n          return (\r\n            <div key={index} className=\"sixteen wide field\">\r\n              <input placeholder={fieldNames.author}\r\n                onChange={(e) => {\r\n                  setNewState(fieldNames.author, e.target.value, index, \"\")\r\n                }}\r\n                value={author}\r\n                required\r\n              />\r\n            </div>\r\n          );\r\n        })}\r\n      </div>\r\n\r\n      <label>Beschreibung </label>\r\n      <textarea placeholder={fieldNames.description}\r\n        onChange={(e) => { setNewState(fieldNames.description, e.target.value, 0, \"\") }}\r\n        value={description}\r\n        maxLength={3000}\r\n        minLength={5}\r\n        title=\"Mindestens 5 und maximal 3000 Zeichen\"\r\n      />\r\n\r\n      <label>Bilder </label>\r\n      <button className=\"ui mini button\" type=\"button\"\r\n        onClick={() => { addField(fieldNames.thumbnails.thumbnail) }}\r\n      >+</button>\r\n      <button className=\"ui mini button\" type=\"button\"\r\n        onClick={() => { removeField(fieldNames.thumbnails.thumbnail) }}\r\n      >-</button>\r\n      { thumbnails && thumbnails.map((thumbnail: Thumbnail, index: number) => {\r\n        return (\r\n          <div key={index} className=\"field\">\r\n            <input placeholder={fieldNames.url}\r\n              type=\"url\"\r\n              className=\"nine wide field\"\r\n              onChange={(e) => {\r\n                setNewState(fieldNames.thumbnails.thumbnail, e.target.value, index, fieldNames.thumbnails.url)\r\n              }}\r\n              value={thumbnail.url}\r\n            />\r\n            <input placeholder={fieldNames.title} className=\"seven wide field\"\r\n              onChange={(e) => {\r\n                setNewState(fieldNames.thumbnails.thumbnail, e.target.value, index, fieldNames.thumbnails.title)\r\n              }}\r\n              value={thumbnail.title}\r\n            />\r\n          </div>\r\n        );\r\n      })}\r\n      <button className=\"ui button\">Submit</button>\r\n    </form >\r\n  );\r\n}","import React, { useState, useEffect, Dispatch, SetStateAction } from \"react\";\r\nimport Book, { Thumbnail } from \"../types/Books\";\r\n\r\ninterface State {\r\n  StateArray: [\r\n    isbn: string,\r\n    setIsbn: Dispatch<SetStateAction<string>>,\r\n    title: string,\r\n    setTitle: Dispatch<SetStateAction<string>>,\r\n    authors: string[],\r\n    setAuthors: Dispatch<SetStateAction<string[]>>,\r\n    published: string,\r\n    setPublished: Dispatch<SetStateAction<string>>,\r\n    subtitle: string | undefined,\r\n    setsubtitle: Dispatch<SetStateAction<string | undefined>>,\r\n    rating: number | undefined,\r\n    setRating: Dispatch<SetStateAction<number | undefined>>,\r\n    thumbnails: Thumbnail[] | undefined,\r\n    setThumbnails: Dispatch<SetStateAction<Thumbnail[] | undefined>>,\r\n    description: string | undefined,\r\n    setDescription: Dispatch<SetStateAction<string | undefined>>\r\n  ]\r\n}\r\n\r\nexport default function useInitialState(initialState: Book): State[\"StateArray\"] {\r\n  const [isbn, setIsbn] = useState(initialState.isbn);\r\n  const [title, setTitle] = useState(initialState.title);\r\n  const [authors, setAuthors] = useState(initialState.authors);\r\n  const [published, setPublished] = useState(initialState.published);\r\n  const [subtitle, setsubtitle] = useState(initialState.subtitle);\r\n  const [rating, setRating] = useState(initialState.rating);\r\n  const [thumbnails, setThumbnails] = useState(initialState.thumbnails);\r\n  const [description, setDescription] = useState(initialState.description);\r\n\r\n  useEffect(() => {\r\n    setIsbn(initialState.isbn);\r\n    setTitle(initialState.title);\r\n    setAuthors(initialState.authors);\r\n    setPublished(initialState.published);\r\n    setsubtitle(initialState.subtitle);\r\n    setRating(initialState.rating);\r\n    setThumbnails(initialState.thumbnails);\r\n    setDescription(initialState.description);\r\n  }, [initialState]);\r\n\r\n  const stateArray: State[\"StateArray\"] = [\r\n    isbn, setIsbn,\r\n    title, setTitle,\r\n    authors, setAuthors,\r\n    published, setPublished,\r\n    subtitle, setsubtitle,\r\n    rating, setRating,\r\n    thumbnails, setThumbnails,\r\n    description, setDescription\r\n  ]\r\n\r\n  return stateArray;\r\n}\r\n\r\n","import React, { ReactElement } from \"react\";\r\nimport initialState from \"../../shared/initialState\";\r\nimport BookForm from \"../BookForm/BookForm\";\r\n\r\nexport default function BookCreate(): ReactElement {\r\n  const defaultState = initialState;\r\n  defaultState.rating = ~~(Math.random() * 6);\r\n  return (\r\n    <BookForm initialState={defaultState} isEdit={false} />\r\n  );\r\n}","import React, { ReactElement } from \"react\";\r\n\r\nconst LoadingSpinner = (): ReactElement => (\r\n  <div className=\"ui container\">\r\n    <div className=\"ui active large text loader\">Loading</div>\r\n  </div>\r\n);\r\n\r\nexport default LoadingSpinner;","import React, { useState, useEffect, Dispatch, SetStateAction } from \"react\";\r\nimport bookApi from \"../shared/BookApi\";\r\nimport { Method } from \"axios\";\r\n\r\nexport default function useBookApi<T>(method: Method, path: string):\r\n  [T | undefined, Dispatch<SetStateAction<T | undefined>>] {\r\n  const [books, setBooks] = useState<T>();\r\n\r\n  useEffect(() => {\r\n    bookApi<T>(method, path, setBooks);\r\n  }, [method, path]);\r\n\r\n  return [books, setBooks];\r\n}","import React, { ReactElement } from \"react\";\r\nimport { useStore } from \"../StoreContextProvider/StoreContextProvider\";\r\nimport Book from \"../../types/Books\";\r\nimport css from \"./cart-buttons.module.css\";\r\n\r\ninterface Props {\r\n  book: Book;\r\n}\r\n\r\nexport default function CartButtons({ book }: Props): ReactElement {\r\n  const { store: { cart }, dispatch } = useStore();\r\n\r\n  const onAddToCart = (e: React.MouseEvent<HTMLButtonElement, MouseEvent>) => {\r\n    e.preventDefault();\r\n    book && dispatch({ type: \"ADD_TO_CART\", book })\r\n  }\r\n\r\n  const onRemoveFromCart = (e: React.MouseEvent<HTMLButtonElement, MouseEvent>) => {\r\n    e.preventDefault();\r\n    book && dispatch({ type: \"REMOVE_FROM_CART\", book })\r\n  }\r\n\r\n  return (\r\n    <div className={`ui extra right floated content ${css.btnContainer}`}>\r\n      <div className=\"ui label\">\r\n        <i className=\"shopping cart icon\" />\r\n        {cart.length && cart.filter(aBook => aBook.isbn === book.isbn).length}\r\n      </div>\r\n      <button className=\"ui button\" onClick={(e) => onAddToCart(e)}>\r\n        +\r\n      </button>\r\n      <button className=\"ui button\" onClick={(e) => onRemoveFromCart(e)}>\r\n        -\r\n      </button>\r\n    </div>\r\n  );\r\n}","import React, { ReactElement } from \"react\";\r\nimport Book from \"../../types/Books\";\r\nimport LoadingSpinner from \"../LoadingSpinner/loading-spinner\";\r\nimport bookApi from \"../../shared/BookApi\";\r\nimport useBookApi from \"../../hooks/useBookApi\";\r\nimport { useHistory, useParams } from \"react-router-dom\";\r\nimport CartButtons from \"../CartButtons/CartButtons\";\r\n\r\nconst BookDetails = (): ReactElement => {\r\n  const { isbn } = useParams<{ isbn: string }>();\r\n  const history = useHistory();\r\n  const path = `/book/${isbn}`;\r\n  const [book] = useBookApi<Book>(\"get\", path);\r\n  const goToBookList = () => { history.push(\"/books\") };\r\n  const deleteBook = () => {\r\n    const willBeDeleted = confirm(\"You are about to delete this book?\");\r\n    if (willBeDeleted) bookApi<string>(\"delete\", path, () => { goToBookList() })\r\n  };\r\n\r\n  const getRatings = (): number[] => {\r\n    const ratingArray = [];\r\n    // Umweg über For, da ein Array mit undefined nicht gemaped wird\r\n    if (book)\r\n      for (let i = 0; i < (book.rating || 0); i++) {\r\n        ratingArray.push(i)\r\n      }\r\n    return ratingArray;\r\n  }\r\n\r\n  return (\r\n    <>\r\n      {\r\n        book\r\n          ?\r\n          <div>\r\n            <h1>{book.title}</h1>\r\n            <p>{book.subtitle}</p>\r\n            <div className=\"ui divider\"></div>\r\n            <div className=\"ui grid\">\r\n              <div className=\"four wide column\">\r\n                <h4>Autoren</h4>\r\n                {book.authors.map((author, index) => (\r\n                  <p key={index}>\r\n                    {author}\r\n                  </p>\r\n                ))}\r\n              </div>\r\n              <div className=\"four wide column\">\r\n                <h4>ISBN</h4>\r\n                <p>{book.isbn}</p>\r\n              </div>\r\n              <div className=\"four wide column\">\r\n                <h4>Erschienen</h4>\r\n                <p>{`${book.published}`}</p>\r\n              </div>\r\n              <div className=\"four wide column\">\r\n                <h4>Rating</h4>\r\n                <p>{getRatings().map((rating, index) => (\r\n                  <i key={index} className=\"yellow star icon\" />\r\n                ))}</p>\r\n              </div>\r\n            </div>\r\n            <h4>Beschreibung</h4>\r\n            <p>{book.description}</p>\r\n            <div className=\"ui small images\">\r\n              {book.thumbnails && book.thumbnails.map((thumbnail, index) => (\r\n                <img key={index} src={thumbnail.url} alt={thumbnail.title} />\r\n              ))}\r\n            </div>\r\n            <button className=\"ui red button\"\r\n              onClick={() => { deleteBook() }}\r\n            >\r\n              Delete book\r\n            </button>\r\n            <button className=\"ui yellow button\"\r\n              onClick={() => { history.push(`/books/${isbn}/edit`); }}\r\n            >\r\n              Edit book\r\n            </button>\r\n\r\n            <CartButtons book={book} />\r\n\r\n          </div>\r\n          :\r\n          <LoadingSpinner />\r\n      }\r\n      <div className=\"ui divider\"></div>\r\n      <button className=\"ui blue button\" onClick={goToBookList}>\r\n        Back\r\n      </button>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default BookDetails;","import React, { ReactElement } from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport useBookApi from \"../../hooks/useBookApi\";\r\nimport initialState from \"../../shared/initialState\";\r\nimport Book from \"../../types/Books\";\r\nimport BookForm from \"../BookForm/BookForm\";\r\n\r\nexport default function BookEdit(): ReactElement {\r\n  const { isbn } = useParams<{ isbn: string }>();\r\n  const path = `/book/${isbn}`;\r\n  const [book] = useBookApi<Book>(\"get\", path);\r\n  let defaultState = initialState;\r\n\r\n  if (book) {\r\n    const dateArr = book.published.split(\".\");\r\n    let day = dateArr.shift();\r\n    if (Number(day) < 10) day = `0${day}`;\r\n    let month = dateArr.shift();\r\n    if (Number(month) < 10) month = `0${month}`;\r\n    month && dateArr.push(month);\r\n    day && dateArr.push(day);\r\n    const published = dateArr.join(\"-\");\r\n    defaultState = { ...book };\r\n    defaultState.published = published;\r\n  }\r\n\r\n  return (\r\n    <BookForm initialState={defaultState} isEdit={true} />\r\n  );\r\n}","import React, { ReactElement } from \"react\";\r\nimport { useHistory } from \"react-router\";\r\nimport { Link } from \"react-router-dom\";\r\nimport Book from \"../../types/Books\";\r\n\r\ninterface Props {\r\n  book: Book;\r\n  children?: ReactElement;\r\n}\r\n\r\nexport default function BookListItem(props: Props): ReactElement {\r\n  const history = useHistory();\r\n  const book = props.book;\r\n  return (\r\n    <>\r\n      <Link to={`/books/${book.isbn}`} className=\"item\">\r\n        {/* Thumbnails.title im alt-Attribut einfügen\r\n          Thumbnails.src im src-Attribut einügen */}\r\n        < img className=\"ui tiny image\"\r\n          alt={book.thumbnails && book.thumbnails[0].title}\r\n          src={book.thumbnails && book.thumbnails[0].url}\r\n          onClick={() => { history.push(`/books/${book.isbn}`) }}\r\n        />\r\n        <div className=\"content\">\r\n          <div className=\"header\">\r\n            {/* Buchtitel ausgeben */}\r\n            {book.title}\r\n          </div>\r\n          <div className=\"description\">\r\n            {/* Untertitel */}\r\n            {book.subtitle}\r\n          </div>\r\n          <div className=\"metadata\">\r\n            {/* Jeden Author in ein Span-Element schreiben */}\r\n            {\r\n              book.authors.map((author, index) => (\r\n                <span key={index}>\r\n                  {author}\r\n                  {index !== book.authors.length - 1 && `, `}\r\n                </span>\r\n              ))\r\n            }\r\n            <br />\r\n            {/* ISBN ausgeben */}\r\n            {book.isbn}\r\n          </div>\r\n        </div>\r\n        {props.children && props.children}\r\n      </Link >\r\n    </>\r\n  )\r\n}\r\n","import React, { ReactElement, useState, useEffect } from \"react\";\r\nimport Book from \"../../types/Books\";\r\nimport BookListItem from \"../BookListItem/BookListItem\";\r\nimport LoadingSpinner from \"../LoadingSpinner/loading-spinner\";\r\nimport bookApi from \"../../shared/BookApi\";\r\nimport useBookApi from \"../../hooks/useBookApi\";\r\n\r\nexport default function BookList(): ReactElement {\r\n  const [books, setBooks] = useBookApi<Book[]>(\"get\", \"/books\");\r\n  const getBooks = () => { bookApi<Book[]>(\"get\", \"/books\", setBooks) };\r\n  const restoreBookList = () => { bookApi<string>(\"delete\", \"/books\", getBooks) };\r\n\r\n  if (!books) return <LoadingSpinner />\r\n\r\n  return (\r\n    <div className=\"ui middle aligned selection divided list\">\r\n      {\r\n        (books.length\r\n          ?\r\n          books.map(book => (\r\n            <BookListItem book={book} key={book.isbn} />\r\n          ))\r\n          :\r\n          <div className=\"ui item\">\r\n            <div className=\"ui message\">\r\n              <p className=\"ui content\">\r\n                Keine Bücher im Regal vorhanden\r\n              </p>\r\n              <button className=\"ui black button\"\r\n                onClick={() => { restoreBookList() }}\r\n              >\r\n                Store zurücksetzen\r\n              </button>\r\n            </div>\r\n          </div>\r\n        )\r\n      }\r\n    </div >\r\n  );\r\n}\r\n","import React, { ReactElement } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { useStore } from \"../StoreContextProvider/StoreContextProvider\";\r\nimport Book from \"../../types/Books\";\r\nimport BookListItem from \"../BookListItem/BookListItem\";\r\nimport CartButtons from \"../CartButtons/CartButtons\";\r\n\r\n\r\nexport default function Cart(): ReactElement {\r\n  const { store: { cart } } = useStore();\r\n\r\n  const getEveryBookOnce = (): Book[] => {\r\n    const books: Book[] = [];\r\n    //Jedes Buch einmal im Array speichern\r\n    cart.forEach((book, i) => {\r\n      let bookExists = false;\r\n      books.forEach(el => {\r\n        if (el.isbn === book.isbn)\r\n          bookExists = true;\r\n      });\r\n      if (!bookExists) books.push(book);\r\n    });\r\n    return books;\r\n  }\r\n\r\n  // console.log(props.cart)\r\n\r\n  const books = getEveryBookOnce();\r\n\r\n  return (\r\n    <div className=\"ui middle aligned selection divided list\">\r\n      {\r\n        (books.length\r\n          ?\r\n          books.map(book => (\r\n            <BookListItem book={book} key={book.isbn} >\r\n              <CartButtons book={book} />\r\n            </BookListItem>\r\n          ))\r\n          :\r\n          <div className=\"ui item\">\r\n            <div className=\"ui message\">\r\n              <p className=\"ui content\">\r\n                Keine Bücher im Warenkorb vorhanden\r\n              </p>\r\n              <Link className=\"ui black button\"\r\n                to=\"/books\"\r\n              >\r\n                Zum Bücherregal\r\n              </Link>\r\n            </div>\r\n          </div>\r\n        )\r\n      }\r\n    </div >\r\n  )\r\n}","import React, { ReactElement } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport SearchBar from \"../SearchBar/SearchBar\";\r\n\r\nexport default function Home(): ReactElement {\r\n  return (\r\n    <div className=\"ui center aligned header segment\">\r\n      <h1 className=\"ui \"> Willkommen bei BookMonkey </h1>\r\n      <Link className=\"ui red button\" to=\"/books\">Bücher ansehen</Link>\r\n      <br /><br />\r\n      <SearchBar classAttr=\"\" />\r\n    </div>\r\n  );\r\n}","import React, { ReactElement } from \"react\";\r\nimport { Redirect, Route, Switch } from \"react-router-dom\";\r\nimport BookCreate from \"../BookCreate/BookCreate\";\r\nimport BookDetails from \"../BookDetails/BookDetails\";\r\nimport BookEdit from \"../BookEdit/BookEdit\";\r\nimport BookList from \"../BookList/BookList\";\r\nimport Cart from \"../Cart/Cart\";\r\nimport Home from \"../Home/Home\";\r\n\r\n\r\nexport default function Routing(): ReactElement {\r\n  return (\r\n    <Switch>\r\n      <Route exact path='/books/create'>\r\n        < BookCreate />\r\n      </Route>\r\n\r\n      <Route path='/cart'>\r\n        <Cart />\r\n      </Route>\r\n\r\n      <Route path='/books/:isbn/edit'>\r\n        <BookEdit />\r\n      </Route>\r\n\r\n      <Route path='/books/:isbn'>\r\n        <BookDetails />\r\n      </Route>\r\n\r\n      <Route path='/books'>\r\n        < BookList />\r\n      </Route>\r\n\r\n      <Route path='/home'>\r\n        <Home />\r\n      </Route>\r\n\r\n      <Route path=''>\r\n        <Redirect to=\"/home\" />\r\n      </Route>\r\n    </Switch>\r\n  );\r\n}","import React, { ReactElement } from 'react';\nimport {\n  BrowserRouter as Router,\n} from \"react-router-dom\";\nimport Layout from './componentes/Layout/Layout';\nimport Routing from './componentes/Routing/Routing';\nimport StoreContextProvider from './componentes/StoreContextProvider/StoreContextProvider';\n\nfunction App(): ReactElement {\n\n  return (\n    <Router>\n      <StoreContextProvider>\n        <Layout>\n          <Routing />\n        </Layout>\n      </StoreContextProvider>\n    </Router >\n  );\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler): void => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}